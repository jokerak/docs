## SIP协议 ##
- **简介**
  - sip(会话启动协议)协议由IETF定义，基于IP的呼叫控制协议，工作在应用层。
    > 传输层可使用UDP/tcp/SCTP协议，最常使用UDP，且使用5060的端口进行标识。

  - 作用：解决IP网络中实现信令控制的功能，创建、修改、终结一个或多个会话。
    - 用户定位
    - 用户通讯能力的协商
    - 用户意愿交互
    - 建立呼叫
    - 呼叫处理和控制
   
  **相关补充**
  > IMS，IMS本质上说是一种网络结构，国际权威标准组织普遍将IMS作为NGN网络融合以及业务和技术创新的核心标准。

- **SIP原理**
  - SIP组件包括：
    - UA(用户助理)：
      - UAC (发出用户请求)
      - UAS (应答用户请求)
    - 服务器
      - 重定向服务器
      - 代理服务器
      - 定位服务器
      - 注册服务器
- **相关术语**
  - 呼叫  
    由[一个]公共源端所邀请的 [在一个会议中的]所有参与者组成，由一个全球唯一的Call-ID进行标识。
  - 事务  
    SIP是一个客户/服务器协议。C/S之间的操作从一个请求开始到最终响应为止的所有消息构成一个SIP事务。  
    一个呼叫一般包含三个事务：invite、ACK、Bye。
  - SIP URL
    沿用www技术解决俩问题：1.寻址：采用什么样的地址形式标识终端用户。2.用户定位。  
    寻址采用SIP URL，按照RFC2396规定的导则定义其语法。     
    格式：SIP:用户名:口令@主机:端口;传递参数;用户参数;方法参数;生存期参数;服务器地址参数?头部名=头部值  

    ```例如：Sip:55502200@127.0.0.1:5060;User=phone```   
    
      ```Sip:alice@register.com;method=REGISTER  #REGISTER方法是向SIP服务器进行注册的```   


      > 用户名一般是电话号码，也可以是域名。  
      > 口令一般不加，因为别人看到不安全。  
      > 主机可以是IP地址也可以是域名。  
      > 传输参数说明传输层用的是UDP还是TCP。  
      > 用户参数用来说明用户名是电话号码还是其他格式。

  
  
           


